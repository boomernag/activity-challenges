{% extends "base.html" %} {% block content %}

<div class="row card-panel grey lighten-5">
  <form action="{{ url_for('search') }} " method="post" class="form col s12">
    <div class="row valign-wrapper center-align">
      <div class="input-field col s12 m8">
        <i class="fas fa-search prefix light-blue-text text-darken"></i>
        <input
          type="text"
          name="query"
          minlength="3"
          id="query"
          class="validate"
          required
        />
        <label for="query">Search Challenges</label>
      </div>
      <div class="col s12 m8">
        <a href=" {{ url_for('get_challenges') }} " class="red btn text-shadow"
          >Reset</a
        >
        <button type="submit" class="light-blue darken-1 btn text-shadow">
          <i class="fas fa-search"></i> Search
        </button>
      </div>
    </div>
  </form>
</div>

{% for challenge in challenges %}
<div class="row">
  <div class="col s12 m3">
    <div class="card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title"
          ><strong>{{ challenge.challenge_title }}</strong></span
        >
        <p>{{ challenge.challenge_description }}</p>
      </div>
      <div>
        <a
          href="{{ url_for('edit_challenge', challenge_id=challenge._id) }}"
          class="btn-small light-blue lighten-1"
          >Edit</a
        >
        <a
          href="{{ url_for('delete_challenge', challenge_id=challenge._id) }}"
          class="btn-small red darken-4"
          >Delete</a
        >
      </div>
      <div class="card-action">
        <i class="small material-icons white-text">access_time</i>
        <i class="small material-icons white-text">check</i>
        <p class="orange-text text-accent-3">{{ challenge.time }} min</p>
        <p class="orange-text text-accent-3">
          {{ challenge.completions }} Completions
        </p>
      </div>
    </div>
  </div>
</div>

{% endfor %} {% endblock %}
